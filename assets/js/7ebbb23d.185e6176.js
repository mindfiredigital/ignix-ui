"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[6058],{7873:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>p,contentTitle:()=>t,default:()=>x,frontMatter:()=>l,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"starters/monorepo","title":"Monorepo Starter (Turborepo + pnpm)","description":"Scaffold a production-ready monorepo with Turborepo, pnpm workspaces, shared configs, and a Next.js app.","source":"@site/docs/starters/monorepo.mdx","sourceDirName":"starters","slug":"/starters/monorepo","permalink":"/ignix-ui/docs/next/starters/monorepo","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"monorepo","title":"Monorepo Starter (Turborepo + pnpm)","description":"Scaffold a production-ready monorepo with Turborepo, pnpm workspaces, shared configs, and a Next.js app."}}');var i=s(2467),o=s(8453),c=s(1211),a=s(85);const l={id:"monorepo",title:"Monorepo Starter (Turborepo + pnpm)",description:"Scaffold a production-ready monorepo with Turborepo, pnpm workspaces, shared configs, and a Next.js app."},t=void 0,p={},d=[{value:"Overview",id:"overview",level:2},{value:"Generate via CLI",id:"generate-via-cli",level:2},{value:"Generated Structure",id:"generated-structure",level:2},{value:"Workspace Scripts",id:"workspace-scripts",level:2},{value:"Sharing Components across Apps",id:"sharing-components-across-apps",level:2},{value:"Turborepo Caching",id:"turborepo-caching",level:2},{value:"Acceptance Criteria Mapping",id:"acceptance-criteria-mapping",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Requirements Recap",id:"requirements-recap",level:2}];function h(e){const n={code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:"The Monorepo Starter scaffolds a Turborepo + pnpm workspaces setup with:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"apps/web \u2192 Next.js frontend"}),"\n",(0,i.jsx)(n.li,{children:"packages/components \u2192 UI component library (with design tokens)"}),"\n",(0,i.jsx)(n.li,{children:"packages/config \u2192 shared configs (ESLint, TypeScript, Tailwind)"}),"\n",(0,i.jsxs)(n.li,{children:["Root ",(0,i.jsx)(n.code,{children:"tsconfig.json"}),", ",(0,i.jsx)(n.code,{children:"turbo.json"}),", ",(0,i.jsx)(n.code,{children:"pnpm-workspace.yaml"})]}),"\n",(0,i.jsx)(n.li,{children:"Caching and parallelization via Turborepo"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"generate-via-cli",children:"Generate via CLI"}),"\n",(0,i.jsxs)(c.A,{children:[(0,i.jsxs)(a.A,{value:"interactive",label:"Interactive",children:[(0,i.jsx)(n.p,{children:"Run the CLI and choose Starters \u2192 Monorepo:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx ignix\n"})})]}),(0,i.jsxs)(a.A,{value:"direct",label:"Direct",children:[(0,i.jsx)(n.p,{children:"Run the starter command directly:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx ignix starters monorepo\n"})})]})]}),"\n",(0,i.jsx)(n.p,{children:"This will:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Create the monorepo structure"}),"\n",(0,i.jsx)(n.li,{children:"Write shared configs"}),"\n",(0,i.jsx)(n.li,{children:"Wire workspace dependencies"}),"\n",(0,i.jsx)(n.li,{children:"Optionally install dependencies (if enabled in your CLI)"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"generated-structure",children:"Generated Structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:".\n\u251c\u2500 apps/\n\u2502  \u2514\u2500 web/                  # Next.js app\n\u2502     \u251c\u2500 app/page.tsx\n\u2502     \u251c\u2500 package.json\n\u2502     \u251c\u2500 next.config.mjs\n\u2502     \u2514\u2500 tsconfig.json\n\u251c\u2500 packages/\n\u2502  \u251c\u2500 components/           # UI library\n\u2502  \u2502  \u251c\u2500 src/\n\u2502  \u2502  \u2502  \u251c\u2500 Button.tsx\n\u2502  \u2502  \u2502  \u251c\u2500 tokens.ts\n\u2502  \u2502  \u2502  \u2514\u2500 index.ts\n\u2502  \u2502  \u251c\u2500 package.json\n\u2502  \u2502  \u251c\u2500 tsconfig.json\n\u2502  \u2502  \u2514\u2500 tsconfig.build.json\n\u2502  \u2514\u2500 config/               # Shared configs\n\u2502     \u251c\u2500 eslint/index.cjs\n\u2502     \u251c\u2500 tailwind/tailwind.config.cjs\n\u2502     \u251c\u2500 tsconfig/base.json\n\u2502     \u2514\u2500 package.json\n\u251c\u2500 package.json             # Workspaces + Turbo scripts\n\u251c\u2500 pnpm-workspace.yaml\n\u251c\u2500 turbo.json               # Turborepo pipeline and caching\n\u2514\u2500 tsconfig.json            # Shared base\n"})}),"\n",(0,i.jsx)(n.h2,{id:"workspace-scripts",children:"Workspace Scripts"}),"\n",(0,i.jsx)(n.p,{children:"From the repository root:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm dev"}),": run all dev servers (Turborepo orchestrated)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm build"}),": build all packages/apps with incremental caching"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm lint"}),": run linters across the repo"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"sharing-components-across-apps",children:"Sharing Components across Apps"}),"\n",(0,i.jsx)(n.p,{children:"The Next.js app consumes the shared UI library:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"// apps/web/app/page.tsx\nimport { Button } from '@acme/components';\n\nexport default function Page() {\n  return (\n    <main style={{ padding: 24 }}>\n      <h1>Ignix Monorepo</h1>\n      <Button>From components pkg</Button>\n    </main>\n  );\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Development flow:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Edit components in ",(0,i.jsx)(n.code,{children:"packages/components/src/*"})]}),"\n",(0,i.jsxs)(n.li,{children:["In another terminal, run ",(0,i.jsx)(n.code,{children:"pnpm dev"})," at the root to rebuild and run apps"]}),"\n",(0,i.jsx)(n.li,{children:"Turborepo caches and only rebuilds what changed"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"turborepo-caching",children:"Turborepo Caching"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"turbo.json"})," config enables:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Task graph with ",(0,i.jsx)(n.code,{children:"dependsOn"})," to reuse upstream builds"]}),"\n",(0,i.jsx)(n.li,{children:"Output tracking for cache hits"}),"\n",(0,i.jsxs)(n.li,{children:["Persistent ",(0,i.jsx)(n.code,{children:"dev"})," tasks"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Builds are significantly faster on subsequent runs or when only a subset of packages change."}),"\n",(0,i.jsx)(n.h2,{id:"acceptance-criteria-mapping",children:"Acceptance Criteria Mapping"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Monorepo CLI commands work: ",(0,i.jsx)(n.code,{children:"npx ignix"})," \u2192 Starters \u2192 Monorepo, or ",(0,i.jsx)(n.code,{children:"npx ignix starters monorepo"})]}),"\n",(0,i.jsxs)(n.li,{children:["Components shared across apps: ",(0,i.jsx)(n.code,{children:"@acme/components"})," consumed in ",(0,i.jsx)(n.code,{children:"apps/web"})]}),"\n",(0,i.jsxs)(n.li,{children:["Build times optimized with Turborepo caching: configured via ",(0,i.jsx)(n.code,{children:"turbo.json"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Ensure pnpm is installed: ",(0,i.jsx)(n.code,{children:"npm i -g pnpm"})]}),"\n",(0,i.jsxs)(n.li,{children:["If install fails, try clearing cache: ",(0,i.jsx)(n.code,{children:"pnpm store prune"})]}),"\n",(0,i.jsx)(n.li,{children:"On Windows WSL, verify Node and pnpm versions match between environments"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"requirements-recap",children:"Requirements Recap"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Turborepo + pnpm workspaces monorepo"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"apps/web"})," Next.js app"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"packages/components"})," UI library with tokens"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"packages/config"})," shared ESLint, TS, Tailwind"]}),"\n",(0,i.jsxs)(n.li,{children:["Shared root ",(0,i.jsx)(n.code,{children:"tsconfig.json"})]}),"\n",(0,i.jsx)(n.li,{children:"Dev and build scripts at the root"}),"\n"]})]})}function x(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}}}]);