/*! For license information please see e81399df.f1b76cea.js.LICENSE.txt */
"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[8424],{44440(e,n,t){t.r(n),t.d(n,{assets:()=>L,contentTitle:()=>M,default:()=>B,frontMatter:()=>O,metadata:()=>a,toc:()=>$});const a=JSON.parse('{"id":"templates/pages/authentication/otp-verification-page","title":"OTP Verification Page","description":"A fully responsive OTP (One-Time Password) verification component that provides configurable input length, animations, themes, auto-focus behavior, and paste-to-autofill support.","source":"@site/versioned_docs/version-1.0.3/templates/pages/authentication/otp-verification-page.mdx","sourceDirName":"templates/pages/authentication","slug":"/templates/pages/authentication/otp-verification-page","permalink":"/ignix-ui/docs/templates/pages/authentication/otp-verification-page","draft":false,"unlisted":false,"tags":[],"version":"1.0.3","frontMatter":{"sidebarPosition":1,"title":"OTP Verification Page","description":"A fully responsive OTP (One-Time Password) verification component that provides configurable input length, animations, themes, auto-focus behavior, and paste-to-autofill support."},"sidebar":"tutorialSidebar","previous":{"title":"ForgotPassword","permalink":"/ignix-ui/docs/templates/pages/authentication/forgot-password-page"},"next":{"title":"ResetPassword","permalink":"/ignix-ui/docs/templates/pages/authentication/reset-password-page"}}');var r=t(74848),i=t(28453),s=t(11211),o=t(70085),l=t(19465),c=t(62036),d=t(96540),u=t(17141),m=t(22732),p=t(17036),h=t(86297),f=t(22492);const g=(0,t(84722).A)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var x=t(37946),y=t(79804),v=t(32069),b=t(1684);const C=(0,d.memo)(({label:e="Back to Login",onBack:n,textColor:t})=>(0,r.jsx)(u.$,{variant:"link",className:(0,b.cn)("hover:cursor-pointer",t),onClick:n,children:e}));C.displayName="LinkButton";const j=(0,m.F)("",{variants:{variant:{default:"bg-white text-black",dark:"bg-gradient-to-br from-black via-neutral-900 to-neutral-800 text-white"}},defaultVariants:{variant:"default"}}),k=(0,m.F)("",{variants:{variant:{default:"bg-black text-white",dark:"bg-white text-black"}},defaultVariants:{variant:"default"}}),w={fadeUp:{initial:{opacity:0,y:20},animate:{opacity:1,y:0}},scaleIn:{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1}},slideLeft:{initial:{opacity:0,x:-40},animate:{opacity:1,x:0}},slideRight:{initial:{opacity:0,x:40},animate:{opacity:1,x:0}},flipIn:{initial:{rotateX:-90,opacity:0},animate:{rotateX:0,opacity:1}}},T=[{code:"+1",country:"US",flag:"\ud83c\uddfa\ud83c\uddf8"},{code:"+44",country:"UK",flag:"\ud83c\uddec\ud83c\udde7"},{code:"+91",country:"IN",flag:"\ud83c\uddee\ud83c\uddf3"},{code:"+86",country:"CN",flag:"\ud83c\udde8\ud83c\uddf3"},{code:"+81",country:"JP",flag:"\ud83c\uddef\ud83c\uddf5"},{code:"+49",country:"DE",flag:"\ud83c\udde9\ud83c\uddea"},{code:"+33",country:"FR",flag:"\ud83c\uddeb\ud83c\uddf7"},{code:"+39",country:"IT",flag:"\ud83c\uddee\ud83c\uddf9"},{code:"+34",country:"ES",flag:"\ud83c\uddea\ud83c\uddf8"},{code:"+61",country:"AU",flag:"\ud83c\udde6\ud83c\uddfa"},{code:"+55",country:"BR",flag:"\ud83c\udde7\ud83c\uddf7"},{code:"+52",country:"MX",flag:"\ud83c\uddf2\ud83c\uddfd"},{code:"+82",country:"KR",flag:"\ud83c\uddf0\ud83c\uddf7"},{code:"+65",country:"SG",flag:"\ud83c\uddf8\ud83c\uddec"},{code:"+971",country:"AE",flag:"\ud83c\udde6\ud83c\uddea"},{code:"+966",country:"SA",flag:"\ud83c\uddf8\ud83c\udde6"},{code:"+27",country:"ZA",flag:"\ud83c\uddff\ud83c\udde6"},{code:"+31",country:"NL",flag:"\ud83c\uddf3\ud83c\uddf1"},{code:"+46",country:"SE",flag:"\ud83c\uddf8\ud83c\uddea"},{code:"+47",country:"NO",flag:"\ud83c\uddf3\ud83c\uddf4"}],P=({title:e="Enter Verification Code",contactType:n="email",contactDetail:t="user@example.com",navigateToLabel:a="Back To Login",submitButtonLabel:i="Verify Code",onNavigateTo:s,onVerifyOtp:o,onResendOtp:l,length:c=6,resendCooldown:m=30,variant:P="dark",animation:E="fadeUp"})=>{const[N,V]=(0,d.useState)(0),S=(0,d.useRef)([]),I=(0,d.useRef)(Array(c).fill("")),[R,A]=(0,d.useState)(!1),[O,M]=(0,d.useState)(t),L=(0,d.useCallback)(()=>{s?.()},[s]),[$,D]=(0,d.useState)(null),[B,z]=(0,d.useState)(null),[Z,F]=(0,d.useState)(null),[U,K]=(0,d.useState)(null),[H,W]=(0,d.useState)(t),[X,J]=(0,d.useState)(!1),[_,G]=(0,d.useState)("+91"),q=(0,d.useMemo)(()=>/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])+)*\.[a-zA-Z]{2,}$/,[]),Q=(0,d.useMemo)(()=>/^[0-9]{10}$/,[]),Y=(0,d.useMemo)(()=>w[E],[E]);(0,d.useEffect)(()=>{if(Z){const e=setTimeout(()=>{F(null)},3e3);return()=>clearTimeout(e)}},[Z]),(0,d.useEffect)(()=>{if(U){const e=setTimeout(()=>{K(null)},3e3);return()=>clearTimeout(e)}},[U]),(0,d.useEffect)(()=>{if(N<=0)return;const e=setTimeout(()=>V(e=>e-1),1e3);return()=>clearTimeout(e)},[N]),(0,d.useEffect)(()=>{S.current[0]?.focus()},[]),(0,d.useEffect)(()=>{M(t),W(t)},[t]);const ee=(0,d.useMemo)(()=>v.string().email({message:"Invalid email address"}),[]),ne=(0,d.useMemo)(()=>v.string().regex(/^[0-9]{10}$/,{message:"Phone must be 10 digits (numbers only)"}),[]),te=(0,d.useCallback)(async()=>{if(!$){if(z(null),K(null),!l)return V(m),void K("Code has been resent successfully!");try{const e=await l(O,n);e.success?(V(m),K(e.message||"Code has been resent successfully!")):z(e.message||"Failed to resend code")}catch(e){const n=e instanceof Error?e.message:"Failed to resend code. Please try again.";z(n)}}},[O,n,l,m,$]),ae=(0,d.useCallback)((e,n)=>{const t=e.target.value;if(!/^\d?$/.test(t))return;I.current[n]=t;const a=I.current.every(e=>""!==e&&1===e.length);J(a),t&&n<c-1&&S.current[n+1]?.focus()},[c]),re=(0,d.useCallback)((e,n)=>{const t=e.key;if("Backspace"===t&&!e.currentTarget.value&&n>0&&S.current[n-1]?.focus(),"Backspace"===t&&e.currentTarget.value){I.current[n]="";const e=I.current.every(e=>""!==e&&1===e.length);J(e)}if("Delete"===t){e.currentTarget.value="",I.current[n]="";const t=I.current.every(e=>""!==e&&1===e.length);J(t)}"ArrowLeft"===t&&n>0&&S.current[n-1]?.focus(),"ArrowRight"===t&&n<S.current.length-1&&S.current[n+1]?.focus()},[c]),ie=(0,d.useCallback)((e,n)=>{e.preventDefault();const t=e.clipboardData.getData("text").replace(/\s+/g,"");if(!/^\d+$/.test(t))return;const a=t.split("");for(let s=0;s<a.length&&s<c;s++){const e=s;I.current[e]=a[s],S.current[e]&&(S.current[e].value=a[s])}const r=I.current.every(e=>""!==e&&1===e.length);J(r);const i=Math.min(n+a.length,c-1);S.current[i]?.focus()},[c]),se=(0,d.useCallback)((e,n)=>{const t=n.trim();if(!t)return null;if("email"===e){if(!t.includes("@"))return"Email must include @ symbol";if(t.includes("@")&&!t.includes("."))return"Email must include a domain";if(t.startsWith("@")||t.endsWith("@"))return"Email cannot start or end with @";if(t.includes("@.")||t.includes(".@"))return"Invalid email format";const e=t.split("@")[1];if(e){const n=e.lastIndexOf(".");if(-1!==n){const t=e.substring(n+1);if(!/[a-zA-Z]/.test(t)||!/[a-zA-Z]$/.test(t))return"Email domain must end with letters (e.g., .com, .org)"}}return q.test(t)?null:"Please enter a valid email address"}{if(/[a-zA-Z]/.test(t))return"Phone number cannot contain letters";if(/[^0-9\s-()]/.test(t))return"Phone number can only contain digits";const e=t.replace(/\D/g,"");return 0===e.length?"Phone number must contain digits":e.length<10?"Phone number must be 10 digits":e.length>10?"Phone number must be exactly 10 digits":Q.test(e)?null:"Phone must be 10 digits (numbers only)"}},[q,Q]),oe=(0,d.useCallback)((e,n)=>{const t=n.trim();if("email"===e){const e=ee.safeParse(t);return e.success?{ok:!0,type:"email"}:{ok:!1,error:e.error.issues[0]?.message||"Invalid email"}}{if(/[a-zA-Z]/.test(t))return{ok:!1,error:"Phone number cannot contain letters"};const e=t.replace(/\D/g,""),n=ne.safeParse(e);return n.success?{ok:!0,type:"phone"}:{ok:!1,error:n.error.issues[0]?.message||"Invalid phone number"}}},[ee,ne]),le=(0,d.useCallback)((e,n)=>{const t=n.trim();if(!t)return void D("Value cannot be empty");let a=t;if("phone"===e&&(a=t.replace(/^\+\d+\s*/,"").trim(),!a))return void D("Phone number cannot be empty");const r=oe(e,a);if(r.ok){M("phone"===e?`${_} ${a}`:a),D(null),A(!1)}else D(r.error??"Invalid contact"),A(!0)},[_,oe]),ce=(0,d.useCallback)(async()=>{const e=I.current.join("");if(z(null),F(null),e.length===c){if(!o)return F("OTP verified successfully! \ud83c\udf89"),void z(null);try{const n=await o(e);if(!n.success)return z(n.message||"Verification failed"),void F(null);F(n.message||"OTP verified successfully! \ud83c\udf89"),z(null)}catch(n){const e=n instanceof Error?n.message:"Verification failed";z(e),F(null)}}else z("Please enter the full code")},[c,o]),de=(0,d.useCallback)(()=>{let e=O;if("phone"===n){e=O.replace(/^\+\d+\s*/,"").trim();const n=O.match(/^(\+\d+)\s/);n&&G(n[1])}W(e),A(!0),D(null)},[O,n]),ue=(0,d.useCallback)(e=>{const t=e.target.value;W(t);const a=se(n,t);D(a)},[n,se]),me=(0,d.useCallback)(e=>{const t=e.relatedTarget;t&&("SELECT"===t.tagName||t.closest?.("select"))||setTimeout(()=>{le(n,"phone"===n?`${_} ${H}`:H)},100)},[n,_,H,le]),pe=(0,d.useCallback)(e=>{if("Enter"===e.key){le(n,"phone"===n?`${_} ${H}`:H)}"Escape"===e.key&&(A(!1),W(O),D(null))},[n,_,H,O,le]),he=(0,d.useCallback)(e=>{const n=e.target.value;G(n)},[]),fe=(0,d.useMemo)(()=>`otp-title-${Math.random().toString(36).substr(2,9)}`,[]),ge=(0,d.useMemo)(()=>`otp-contact-${Math.random().toString(36).substr(2,9)}`,[]),xe=(0,d.useMemo)(()=>`otp-inputs-${Math.random().toString(36).substr(2,9)}`,[]),ye=(0,d.useMemo)(()=>`otp-error-${Math.random().toString(36).substr(2,9)}`,[]),ve=(0,d.useMemo)(()=>`otp-success-${Math.random().toString(36).substr(2,9)}`,[]),be=(0,d.useMemo)(()=>`otp-resend-success-${Math.random().toString(36).substr(2,9)}`,[]),Ce=(0,d.useCallback)(e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),de())},[de]),je=(0,d.useCallback)(e=>{e.stopPropagation()},[]),ke=(0,d.useCallback)(e=>{e.stopPropagation()},[]),we=(0,d.useMemo)(()=>T.map(e=>(0,r.jsxs)("option",{value:e.code,children:[e.flag," ",e.code]},e.code)),[]),Te=(0,d.useMemo)(()=>Array.from({length:c}).map((e,n)=>(0,r.jsx)("input",{type:"text",inputMode:"numeric",pattern:"[0-9]",maxLength:1,ref:e=>{S.current[n]=e},onChange:e=>ae(e,n),onKeyDown:e=>re(e,n),onPaste:e=>ie(e,n),"aria-label":`Digit ${n+1} of ${c}`,"aria-describedby":xe,"aria-invalid":B?"true":"false",className:"w-10 sm:w-12 h-14 text-center text-xl font-semibold border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all cursor-pointer"},n)),[c,ae,re,ie,xe,B]);return(0,r.jsx)("div",{className:"w-full flex justify-center items-center py-10 px-4",children:(0,r.jsxs)("div",{role:"main","aria-labelledby":fe,className:(0,b.cn)("shadow-lg rounded-2xl p-4 sm:p-6 md:p-8 w-full space-y-6 max-w-lg mx-auto",j({variant:P})),children:[(0,r.jsx)("div",{className:"flex justify-center mb-4",role:"img","aria-label":"Security verification icon",children:(0,r.jsx)(p.P.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.2},className:"flex items-center justify-center",children:(0,r.jsxs)(p.P.div,{className:(0,b.cn)("p-4 rounded-2xl relative","default"===P?"bg-primary/10":"dark"===P?"bg-primary/20":"bg-primary/10","shadow-lg shadow-primary/20"),whileHover:{scale:1.05,rotate:5},transition:{type:"spring",stiffness:300},children:[(0,r.jsx)(f.A,{className:(0,b.cn)("h-10 w-10","default"===P?"text-primary":"text-primary-300"),"aria-hidden":"true"}),(0,r.jsx)(p.P.div,{className:(0,b.cn)("absolute inset-0 rounded-2xl","default"===P?"bg-primary/5":"bg-white"),animate:{scale:[1,1.2,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0}})]})})}),(0,r.jsxs)("div",{className:"text-center space-y-1",children:[(0,r.jsx)("h2",{id:fe,className:"text-2xl font-semibold",children:e}),(0,r.jsxs)("p",{id:ge,className:(0,b.cn)("flex flex-col items-center text-lg","default"===P?"text-gray-800":"text-gray-300"),"aria-live":"polite",children:["We sent a code to your ",n,R?(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:["phone"===n&&(0,r.jsx)("select",{value:_,onChange:he,onMouseDown:je,onClick:ke,"aria-label":"Country code",className:(0,b.cn)("h-[38px] px-2 py-1 border rounded-lg text-sm cursor-pointer","focus:outline-none focus:ring-2 focus:ring-primary",$?"border-red-500":"border-gray-300","default"===P?"bg-white text-black":"bg-neutral-800 text-white border-neutral-600"),children:we}),(0,r.jsx)("input",{type:"email"===n?"email":"tel",value:H,onChange:ue,onBlur:me,onKeyDown:pe,autoFocus:!0,placeholder:"phone"===n?"Phone number":"Email address","aria-label":"phone"===n?"Phone number":"Email address","aria-invalid":$?"true":"false","aria-describedby":$?ye:void 0,className:(0,b.cn)("flex-1 h-[38px] text-center px-2 py-1 border rounded-lg",$?"border-red-500":"border-gray-300","default"===P?"bg-white text-black":"bg-neutral-800 text-white border-neutral-600")})]}):(0,r.jsxs)("span",{className:"flex items-center gap-2","aria-label":`${"phone"===n?"Phone number":"Email address"}: ${"phone"===n?`${_} ${O.replace(/^\+\d+\s*/,"").trim()}`:O}`,children:["phone"===n&&_&&(0,r.jsx)("span",{className:"text-md font-medium","aria-label":"Country code",children:_}),(0,r.jsx)("span",{"aria-label":"phone"===n?"Phone number":"Email address",children:"phone"===n?O.replace(/^\+\d+\s*/,"").trim():O}),(0,r.jsx)(g,{size:16,className:"ml-1 cursor-pointer text-gray-400 hover:text-gray-200 transition",onClick:de,role:"button",tabIndex:0,"aria-label":"Edit "+("phone"===n?"phone number":"email address"),onKeyDown:Ce})]}),$&&(0,r.jsx)("span",{id:ye,className:"text-red-500 text-sm mt-1",role:"alert","aria-live":"polite",children:$})]})]}),(0,r.jsxs)("p",{id:xe,className:(0,b.cn)("text-lg py-4 text-center","default"===P?"text-gray-800":"text-gray-300"),children:["Enter ",c," digit code"]}),(0,r.jsx)(p.P.div,{initial:Y.initial,animate:Y.animate,transition:{duration:.5,ease:"easeOut"},role:"group","aria-labelledby":xe,className:(0,b.cn)("flex justify-center gap-2 sm:gap-3",c>5&&"flex-wrap"),children:Te},E),(0,r.jsxs)(h.N,{mode:"wait",children:[B&&(0,r.jsxs)(p.P.div,{id:ye,role:"alert","aria-live":"assertive",initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{type:"spring",stiffness:300},className:(0,b.cn)("flex items-center gap-2 text-sm p-3 rounded-lg border","dark"===P?"bg-red-500/10 border-red-500/30 text-red-400":"bg-red-50 border-red-200 text-red-600"),children:[(0,r.jsx)(x.A,{className:"h-4 w-4 flex-shrink-0","aria-hidden":"true"}),(0,r.jsx)("span",{className:"font-medium",children:B})]},"error"),U&&(0,r.jsxs)(p.P.div,{id:be,role:"status","aria-live":"polite",initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{type:"spring",stiffness:300},className:(0,b.cn)("flex items-center gap-2 text-sm p-3 rounded-lg border","dark"===P?"bg-emerald-500/10 border-emerald-500/30 text-emerald-400":"bg-emerald-50 border-emerald-200 text-emerald-600"),children:[(0,r.jsx)(y.A,{className:"h-4 w-4 flex-shrink-0","aria-hidden":"true"}),(0,r.jsx)("span",{className:"font-medium",children:U})]},"resend-success"),Z&&(0,r.jsxs)(p.P.div,{id:ve,role:"status","aria-live":"polite",initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{type:"spring",stiffness:300},className:(0,b.cn)("flex items-center gap-2 text-sm p-3 rounded-lg border","dark"===P?"bg-emerald-500/10 border-emerald-500/30 text-emerald-400":"bg-emerald-50 border-emerald-200 text-emerald-600"),children:[(0,r.jsx)(y.A,{className:"h-4 w-4 flex-shrink-0","aria-hidden":"true"}),(0,r.jsx)("span",{className:"font-medium",children:Z})]},"success")]}),(0,r.jsx)("div",{className:"flex justify-center mt-5",children:(0,r.jsx)(u.$,{onClick:ce,disabled:!X,"aria-label":i,"aria-describedby":B?ye:Z?ve:void 0,className:(0,b.cn)("w-full h-12 rounded-xl text-base",!X&&"opacity-50 cursor-not-allowed",X&&"cursor-pointer",k({variant:P}),X&&`hover:${k({variant:P})}`),children:i})}),(0,r.jsx)("div",{className:"text-center text-md hover:cursor-pointer",children:N>0?(0,r.jsxs)("span",{className:(0,b.cn)("hover:underline",j({variant:P})),role:"status","aria-live":"polite","aria-label":`Resend code available in ${N} seconds`,children:["Didn't receive code? [ Resend in ",N,"s ]"]}):(0,r.jsx)("button",{onClick:te,disabled:!!$,"aria-label":$?"Resend code unavailable due to validation error":"Resend verification code",className:(0,b.cn)("hover:underline",$?"cursor-not-allowed opacity-50":"cursor-pointer",j({variant:P})),children:"Resend Code"})}),(0,r.jsx)("div",{className:"flex justify-start",children:(0,r.jsx)(C,{label:a,onBack:L,textColor:"default"===P?"text-black":"text-white"})})]})})},E=(0,d.memo)(e=>(0,r.jsx)(P,{...e}));E.displayName="OTPVerificationPage";const N=["default","dark"],V=["fadeUp","scaleIn","slideLeft","slideRight","flipIn"],S=["4","5","6","7","8","9","10"],I=["email","phone"],R=["30","45","60","90"],A=()=>{const[e,n]=(0,d.useState)("default"),[t,a]=(0,d.useState)("fadeUp"),[i,u]=(0,d.useState)("6"),[m,p]=(0,d.useState)("email"),[h,f]=(0,d.useState)("user@example.com"),[g,x]=(0,d.useState)("45");(0,d.useEffect)(()=>{f("email"===m?"user@example.com":"999 999 9999")},[m]);const y=`\n    <OTPVerificationPage\n      variant= "${e}"\n      length= {${Number(i)}}\n      title= "Enter Verification Code"\n      resendCooldown= {${g}}\n      contactType= "${m}" \n      contactDetail= "${h}"\n      navigateToLabel= "Back To Login"\n      submitButtonLabel= "Verify Code"\n      animation= "${t}" />\n    `;return(0,r.jsxs)("div",{className:"space-y-6 mb-8",children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-4 justify-start sm:justify-end",children:[(0,r.jsx)(l.A,{variants:[...N],selectedVariant:e,onSelectVariant:e=>n(e),type:"Select Variants"}),(0,r.jsx)(l.A,{variants:[...V],selectedVariant:t,onSelectVariant:e=>a(e),type:"Select Animation"}),(0,r.jsx)(l.A,{variants:[...S],selectedVariant:i,onSelectVariant:e=>u(e),type:"Select No of Digit for OTP"}),(0,r.jsx)(l.A,{variants:[...I],selectedVariant:m,onSelectVariant:e=>p(e),type:"Select Verification Types"}),(0,r.jsx)(l.A,{variants:[...R],selectedVariant:g,onSelectVariant:e=>x(e),type:"Select CoolDown Timer"})]}),(0,r.jsxs)(s.A,{children:[(0,r.jsx)(o.A,{value:"preview",label:"Preview",children:(0,r.jsx)("div",{className:"border border-gray-300 rounded-lg overflow-hidden p-4",children:(0,r.jsx)(E,{variant:e,length:Number(i),title:"Enter Verification Code",resendCooldown:Number(g),contactType:m,contactDetail:h,navigateToLabel:"Back To Login",submitButtonLabel:"Verify Code",animation:t})})}),(0,r.jsx)(o.A,{value:"code",label:"Code",children:(0,r.jsx)(c.A,{language:"tsx",className:"whitespace-pre-wrap max-h-[500px] overflow-y-scroll",children:y})})]})]})},O={sidebarPosition:1,title:"OTP Verification Page",description:"A fully responsive OTP (One-Time Password) verification component that provides configurable input length, animations, themes, auto-focus behavior, and paste-to-autofill support."},M=void 0,L={},$=[{value:"Overview",id:"overview",level:2},{value:"Preview",id:"preview",level:2},{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"Basic Example",id:"basic-example",level:3},{value:"Complete Example with API Integration",id:"complete-example-with-api-integration",level:3},{value:"Props",id:"props",level:2}];function D(e){const n={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(n.p,{children:["A ",(0,r.jsx)(n.strong,{children:"fully responsive OTP (One-Time Password)"})," verification component that provides configurable input length, animations, themes, auto-focus behavior, and paste-to-autofill support. It is designed for open-source use, allowing developers to customize cooldown duration, navigation actions, resend logic, and visual styles while maintaining complete control over the verification workflow."]}),"\n",(0,r.jsx)(n.h2,{id:"preview",children:"Preview"}),"\n",(0,r.jsx)(A,{}),"\n",(0,r.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsxs)(s.A,{children:[(0,r.jsx)(o.A,{value:"cli",label:"CLI",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ignix add component OtpVerification\n"})})}),(0,r.jsx)(o.A,{value:"manual",label:"Manual",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'import React, { useEffect, useRef, useState, useCallback, useMemo, memo } from "react";\nimport { Button } from "@ignix-ui/button";\nimport { cn } from "../../../utils/cn";\nimport { cva, type VariantProps } from "class-variance-authority";\nimport { motion, AnimatePresence } from "framer-motion";\nimport { Pencil, Shield, CheckCircle2, AlertCircle } from "lucide-react";\nimport { z } from "zod";\n\ntype animationKeys = keyof typeof animationVariant;\n\n/** Interfaces */\nexport interface OTPVerificationProps {\n  input?: React.ReactNode;\n  navigateToLabel?: string;\n  submitButtonLabel?: string;\n  title?: string;\n  statement?: string;\n  contactType?: "email" | "phone";\n  contactDetail?: string;\n  length?: number\n  resendCooldown?: number; // Cooldown duration in seconds for resend functionality\n  onNavigateTo?: () => void; // open-source-friendly navigation callback\n  onVerifyOtp?: (code: string) => Promise<{ success: boolean; message?: string }>\n  onResendOtp?: (contact: string, contactType: "email" | "phone") \n    => Promise<{ success: boolean; message?: string }>;\n  variant?: VariantProps<typeof OtpVerificationVariants>["variant"];\n  animation?: animationKeys \n}\n\ninterface LinkButtonProps {\n  label?: string;\n  textColor?: string;\n  onBack?: () => void;\n}\n\n/** Back To Login Link */\nexport const LinkButton = memo(({\n  label = "Back to Login",\n  onBack,\n  textColor\n}: LinkButtonProps) => {\n  return (\n    <Button\n      variant="link"\n      className={cn("hover:cursor-pointer", textColor)}\n      onClick={onBack}\n    >\n      {label}\n    </Button>\n  );\n});\nLinkButton.displayName = "LinkButton";\n\n/** Variants */\nconst OtpVerificationVariants = cva("", {\n  variants: {\n    variant: {\n      default: "bg-white text-black",\n      dark: "bg-gradient-to-br from-black via-neutral-900 to-neutral-800 text-white",\n    },\n  },\n  defaultVariants: {\n    variant: "default",\n  },\n});\n\nconst OtpVerificationCardVariants = cva("", {\n  variants: {\n    variant: {\n      default: "bg-black text-white",\n      dark: "bg-white text-black",\n    },\n  },\n  defaultVariants: {\n    variant: "default",\n  },\n});\n\n/** Header Animation */\nconst animationVariant = {\n  fadeUp: {\n    initial: { opacity: 0, y: 20 },\n    animate: { opacity: 1, y: 0 },\n  },\n  scaleIn: {\n    initial: { opacity: 0, scale: 0.95 },\n    animate: { opacity: 1, scale: 1 },\n  },\n  slideLeft: {\n    initial: { opacity: 0, x: -40 },\n    animate: { opacity: 1, x: 0 },\n  },\n  slideRight: {\n    initial: { opacity: 0, x: 40 },\n    animate: { opacity: 1, x: 0 },\n  },\n  flipIn: {\n    initial: { rotateX: -90, opacity: 0 },\n    animate: { rotateX: 0, opacity: 1 },\n  },\n};\n\n/** Common country codes for phone number selection */\nconst countryCodes = [\n  { code: "+1", country: "US", flag: "\ud83c\uddfa\ud83c\uddf8" },\n  { code: "+44", country: "UK", flag: "\ud83c\uddec\ud83c\udde7" },\n  { code: "+91", country: "IN", flag: "\ud83c\uddee\ud83c\uddf3" },\n  { code: "+86", country: "CN", flag: "\ud83c\udde8\ud83c\uddf3" },\n  { code: "+81", country: "JP", flag: "\ud83c\uddef\ud83c\uddf5" },\n  { code: "+49", country: "DE", flag: "\ud83c\udde9\ud83c\uddea" },\n  { code: "+33", country: "FR", flag: "\ud83c\uddeb\ud83c\uddf7" },\n  { code: "+39", country: "IT", flag: "\ud83c\uddee\ud83c\uddf9" },\n  { code: "+34", country: "ES", flag: "\ud83c\uddea\ud83c\uddf8" },\n  { code: "+61", country: "AU", flag: "\ud83c\udde6\ud83c\uddfa" },\n  { code: "+55", country: "BR", flag: "\ud83c\udde7\ud83c\uddf7" },\n  { code: "+52", country: "MX", flag: "\ud83c\uddf2\ud83c\uddfd" },\n  { code: "+82", country: "KR", flag: "\ud83c\uddf0\ud83c\uddf7" },\n  { code: "+65", country: "SG", flag: "\ud83c\uddf8\ud83c\uddec" },\n  { code: "+971", country: "AE", flag: "\ud83c\udde6\ud83c\uddea" },\n  { code: "+966", country: "SA", flag: "\ud83c\uddf8\ud83c\udde6" },\n  { code: "+27", country: "ZA", flag: "\ud83c\uddff\ud83c\udde6" },\n  { code: "+31", country: "NL", flag: "\ud83c\uddf3\ud83c\uddf1" },\n  { code: "+46", country: "SE", flag: "\ud83c\uddf8\ud83c\uddea" },\n  { code: "+47", country: "NO", flag: "\ud83c\uddf3\ud83c\uddf4" },\n];\n\nconst OTPVerificationPageContent: React.FC<OTPVerificationProps> = ({\n  title = "Enter Verification Code",\n  contactType = "email",\n  contactDetail = "user@example.com",\n  navigateToLabel = "Back To Login",\n  submitButtonLabel = "Verify Code",\n  onNavigateTo,\n  onVerifyOtp,\n  onResendOtp,\n  length = 6,\n  resendCooldown = 30,\n  variant = "dark",\n  animation = "fadeUp"\n}) => {\n  const [cooldown, setCooldown] = useState<number>(0);\n  const inputsRef = useRef<Array<HTMLInputElement | null>>([]);\n  const values = useRef<string[]>(Array(length).fill(""));\n  const [isEditing, setIsEditing] = useState<boolean>(false);\n  const [contact, setContact] = useState<string>(contactDetail);\n  const handleNavigateTo = useCallback(() => {\n    onNavigateTo?.();\n  }, [onNavigateTo]);\n  const [error, setError] = useState<string | null>(null);\n  const [codeError, setCodeError] = useState<string | null>(null);\n  const [codeSuccess, setCodeSuccess] = useState<string | null>(null);\n  const [resendSuccess, setResendSuccess] = useState<string | null>(null);\n  const [editValue, setEditValue] = useState<string>(contactDetail);\n  const [isCodeComplete, setIsCodeComplete] = useState<boolean>(false);\n  const [countryCode, setCountryCode] = useState<string>("+91"); // Default to US\n\n  // Memoize regex patterns\n  const emailRegex = useMemo(() => /^[a-zA-Z0-9.!#$%&\'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])+)*\\.[a-zA-Z]{2,}$/, []);\n  const phoneRegex = useMemo(() => /^[0-9]{10}$/, []);\n\n  // Memoize animation variant\n  const currentAnimationVariant = useMemo(() => animationVariant[animation], [animation]);\n\n  // Auto-dismiss success message after 3 seconds\n  useEffect(() => {\n    if (codeSuccess) {\n      const timer = setTimeout(() => {\n        setCodeSuccess(null);\n      }, 3000); // 3 seconds\n\n      return () => clearTimeout(timer);\n    }\n  }, [codeSuccess]);\n\n  // Auto-dismiss resend success message after 3 seconds\n  useEffect(() => {\n    if (resendSuccess) {\n      const timer = setTimeout(() => {\n        setResendSuccess(null);\n      }, 3000); // 3 seconds\n\n      return () => clearTimeout(timer);\n    }\n  }, [resendSuccess]);\n\n  // Cooldown timer\n  useEffect(() => {\n    if (cooldown <= 0) return;\n    const timer = setTimeout(() => setCooldown((prev) => prev - 1), 1000);\n    return () => clearTimeout(timer);\n  }, [cooldown]);\n\n  useEffect(() => {\n    inputsRef.current[0]?.focus();\n  }, []);\n\n  // Update contact and editValue when contactDetail prop changes\n  useEffect(() => {\n    setContact(contactDetail);\n    setEditValue(contactDetail);\n  }, [contactDetail]);\n\n  // Memoize Zod schemas\n  const emailSchema = useMemo(() => z.string().email({ message: "Invalid email address" }), []);\n  const phoneSchema = useMemo(() => z.string().regex(/^[0-9]{10}$/, { message: "Phone must be 10 digits (numbers only)" }), []);\n\n  const handleResend = useCallback(async (): Promise<void> => {\n    // Don\'t allow resend if there\'s a validation error in contact field\n    if (error) {\n      return;\n    }\n\n    // Clear previous messages\n    setCodeError(null);\n    setResendSuccess(null);\n\n    if (!onResendOtp) {\n      // Fallback for open-source usage\n      setCooldown(resendCooldown);\n      setResendSuccess("Code has been resent successfully!");\n      return;\n    }\n\n    try {\n      const result: { success: boolean; message?: string } = await onResendOtp(contact, contactType);\n\n      if (result.success) {\n        setCooldown(resendCooldown);  // start cooldown only on success\n        setResendSuccess(result.message || "Code has been resent successfully!");\n      } else {\n        setCodeError(result.message || "Failed to resend code");\n      }\n    } catch (err: unknown) {\n      // Handle errors from user\'s onResendOtp function\n      const errorMessage: string = err instanceof Error ? err.message : "Failed to resend code. Please try again.";\n      setCodeError(errorMessage);\n    }\n  }, [contact, contactType, onResendOtp, resendCooldown, error]);\n\n  const handleChange = useCallback((e: React.ChangeEvent<HTMLInputElement>, index: number) => {\n    const value = e.target.value;\n    if (!/^\\d?$/.test(value)) return;\n    // \ud83d\udd25 update internal storage\n    values.current[index] = value;\n    \n    // Check if all inputs are filled (each must have exactly 1 digit)\n    const allFilled = values.current.every((val) => val !== "" && val.length === 1);\n    setIsCodeComplete(allFilled);\n    \n    if (value && index < length - 1) {\n      inputsRef.current[index + 1]?.focus();\n    }\n  }, [length]);\n\n  const handleKeyDown = useCallback((e: React.KeyboardEvent<HTMLInputElement>, index: number) => {\n    const key = e.key;\n    if (key === "Backspace" && !e.currentTarget.value && index > 0) {\n      inputsRef.current[index - 1]?.focus();\n    }\n    if (key === "Backspace" && e.currentTarget.value) {\n      // Clear current value on backspace\n      values.current[index] = "";\n      // Check if all inputs are filled after backspace\n      const allFilled = values.current.every((val) => val !== "" && val.length === 1);\n      setIsCodeComplete(allFilled);\n    }\n    if (key === "Delete") {\n      e.currentTarget.value = "";\n      values.current[index] = "";\n      // Check if all inputs are filled after delete\n      const allFilled = values.current.every((val) => val !== "" && val.length === 1);\n      setIsCodeComplete(allFilled);\n    }\n    if (key === "ArrowLeft" && index > 0) inputsRef.current[index - 1]?.focus();\n    if (key === "ArrowRight" && index < inputsRef.current.length - 1)\n      inputsRef.current[index + 1]?.focus();\n  }, [length]);\n\n  const handlePaste = useCallback((e: React.ClipboardEvent<HTMLInputElement>, index: number) => {\n    e.preventDefault();\n\n    const pastedText = e.clipboardData.getData("text").replace(/\\s+/g, "");\n\n    if (!/^\\d+$/.test(pastedText)) return;\n\n    const digits = pastedText.split("");\n\n    // Fill starting from the field where user pasted\n    for (let i = 0; i < digits.length && i < length; i++) {\n      const pos = i;\n      values.current[pos] = digits[i];\n      if (inputsRef.current[pos]) {\n        inputsRef.current[pos]!.value = digits[i];\n      }\n    }\n\n    // Check if all inputs are filled after paste\n    const allFilled = values.current.every((val) => val !== "" && val.length === 1);\n    setIsCodeComplete(allFilled);\n\n    // Move focus to the next unfilled index\n    const nextIndex = Math.min(index + digits.length, length - 1);\n    inputsRef.current[nextIndex]?.focus();\n  }, [length]);\n\n  // Real-time validation function\n  const validateInput = useCallback((contactType: "email" | "phone", value: string): string | null => {\n    const trimmed = value.trim();\n    \n    // Don\'t show error if input is empty (user is still typing)\n    if (!trimmed) {\n      return null;\n    }\n\n    if (contactType === "email") {\n      // Basic email format check\n      if (!trimmed.includes("@")) {\n        return "Email must include @ symbol";\n      }\n      if (trimmed.includes("@") && !trimmed.includes(".")) {\n        return "Email must include a domain";\n      }\n      if (trimmed.startsWith("@") || trimmed.endsWith("@")) {\n        return "Email cannot start or end with @";\n      }\n      if (trimmed.includes("@.") || trimmed.includes(".@")) {\n        return "Invalid email format";\n      }\n      // Check that TLD (top-level domain) ends with letters\n      const domainPart = trimmed.split("@")[1];\n      if (domainPart) {\n        const lastDotIndex = domainPart.lastIndexOf(".");\n        if (lastDotIndex !== -1) {\n          const tld = domainPart.substring(lastDotIndex + 1);\n          // TLD must contain at least one letter and end with a letter\n          if (!/[a-zA-Z]/.test(tld) || !/[a-zA-Z]$/.test(tld)) {\n            return "Email domain must end with letters (e.g., .com, .org)";\n          }\n        }\n      }\n      // Full regex validation\n      if (!emailRegex.test(trimmed)) {\n        return "Please enter a valid email address";\n      }\n      return null; // Valid\n    } else {\n      // Phone validation - only digits, no alphabets or special chars\n      // Check if input contains any non-digit characters\n      if (/[a-zA-Z]/.test(trimmed)) {\n        return "Phone number cannot contain letters";\n      }\n      if (/[^0-9\\s-()]/.test(trimmed)) {\n        return "Phone number can only contain digits";\n      }\n      \n      const digits = trimmed.replace(/\\D/g, "");\n      if (digits.length === 0) {\n        return "Phone number must contain digits";\n      }\n      if (digits.length < 10) {\n        return "Phone number must be 10 digits";\n      }\n      if (digits.length > 10) {\n        return "Phone number must be exactly 10 digits";\n      }\n      if (!phoneRegex.test(digits)) {\n        return "Phone must be 10 digits (numbers only)";\n      }\n      return null; // Valid\n    }\n  }, [emailRegex, phoneRegex]);\n\n  const validateContact = useCallback((\n    contactType: "email" | "phone",\n    value: string\n  ) => {\n    const trimmed = value.trim();\n\n    // EMAIL VALIDATION\n    if (contactType === "email") {\n      const result = emailSchema.safeParse(trimmed);\n      if (result.success) {\n        return { ok: true, type: "email" as const };\n      }\n      // return Zod\'s first error message\n      return {\n        ok: false,\n        error: result.error.issues[0]?.message || "Invalid email",\n      };\n    }\n    else{\n      // PHONE VALIDATION\n      // First check for invalid characters (letters, etc.) before stripping\n      if (/[a-zA-Z]/.test(trimmed)) {\n        return {\n          ok: false,\n          error: "Phone number cannot contain letters",\n        };\n      }\n      \n      const digits = trimmed.replace(/\\D/g, "");\n      const result = phoneSchema.safeParse(digits);\n\n      if (result.success) {\n        return { ok: true, type: "phone" as const };\n      }\n\n      // return Zod\'s first error message\n      return {\n        ok: false,\n        error: result.error.issues[0]?.message || "Invalid phone number",\n      };\n    }\n  }, [emailSchema, phoneSchema]);\n\n  // called when finalizing edit (on blur or Enter)\n  const finalizeEdit = useCallback((contactType: \'email\'| \'phone\', value: string ) => {\n    const val = value.trim();\n    if (!val) {\n      setError("Value cannot be empty");\n      // Keep editing mode active so error is visible\n      return;\n    }\n    \n    // For phone, extract just the number part (remove country code if included)\n    let phoneNumber = val;\n    if (contactType === "phone") {\n      // Remove country code prefix if it exists\n      phoneNumber = val.replace(/^\\+\\d+\\s*/, "").trim();\n      if (!phoneNumber) {\n        setError("Phone number cannot be empty");\n        // Keep editing mode active so error is visible\n        return;\n      }\n    }\n    \n    const res = validateContact(contactType, phoneNumber);\n    if (res.ok) {\n      // Store phone with country code prefix for display\n      const newContact = contactType === "phone" \n        ? `${countryCode} ${phoneNumber}` \n        : phoneNumber;\n      setContact(newContact);\n      setError(null);\n      setIsEditing(false);\n    } else {\n      // Set error and keep editing mode active so error remains visible\n      setError(res.error ?? "Invalid contact");\n      // Keep editing mode active so error remains visible - don\'t exit edit mode\n      setIsEditing(true);\n    }\n  }, [countryCode, validateContact]);\n\n  const handleVerify = useCallback(async (): Promise<void> => {\n    const code = values.current.join(""); // collect all digits\n\n    setCodeError(null);\n    setCodeSuccess(null);\n\n    if (code.length !== length) {\n      setCodeError("Please enter the full code");\n      return;\n    }\n    \n    // If onVerifyOtp is not provided (open-source scenario), show success message\n    if (!onVerifyOtp) {\n      setCodeSuccess("OTP verified successfully! \ud83c\udf89");\n      setCodeError(null);\n      return;\n    }\n\n    // Call the user-provided verification function\n    try {\n      const result: { success: boolean; message?: string } = await onVerifyOtp(code);\n\n      if (!result.success) {\n        setCodeError(result.message || "Verification failed");\n        setCodeSuccess(null);\n        return;\n      }\n\n      // Show success message from API response or default\n      setCodeSuccess(result.message || "OTP verified successfully! \ud83c\udf89");\n      setCodeError(null);\n    } catch (err: unknown) {\n      // Handle errors from user\'s onVerifyOtp function\n      const errorMessage: string = err instanceof Error ? err.message : "Verification failed";\n      setCodeError(errorMessage);\n      setCodeSuccess(null);\n    }\n  }, [length, onVerifyOtp]);\n\n  // Memoize edit handlers\n  const handleEditClick = useCallback(() => {\n    // Extract phone number without country code for editing\n    let valueToEdit = contact;\n    if (contactType === "phone") {\n      // Remove country code prefix if it exists\n      valueToEdit = contact.replace(/^\\+\\d+\\s*/, "").trim();\n      // Extract country code from contact if it exists\n      const codeMatch = contact.match(/^(\\+\\d+)\\s/);\n      if (codeMatch) {\n        setCountryCode(codeMatch[1]);\n      }\n    }\n    setEditValue(valueToEdit);\n    setIsEditing(true);\n    setError(null);\n  }, [contact, contactType]);\n\n  const handleInputChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const newValue = e.target.value;\n    setEditValue(newValue);\n    \n    // Real-time validation while typing\n    const validationError = validateInput(contactType, newValue);\n    setError(validationError);\n  }, [contactType, validateInput]);\n\n  const handleInputBlur = useCallback((e: React.FocusEvent<HTMLInputElement>) => {\n    // Don\'t finalize if clicking on the select dropdown\n    const relatedTarget = e.relatedTarget as HTMLElement | null;\n    if (relatedTarget && (relatedTarget.tagName === \'SELECT\' || relatedTarget.closest?.(\'select\'))) {\n      return;\n    }\n    // Use setTimeout to avoid race condition with select dropdown\n    setTimeout((): void => {\n      const finalValue: string = contactType === "phone" \n        ? `${countryCode} ${editValue}` \n        : editValue;\n      finalizeEdit(contactType, finalValue);\n    }, 100);\n  }, [contactType, countryCode, editValue, finalizeEdit]);\n\n  const handleInputKeyDown = useCallback((e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === "Enter") {\n      const finalValue = contactType === "phone" \n        ? `${countryCode} ${editValue}` \n        : editValue;\n      finalizeEdit(contactType, finalValue);\n    }\n    if (e.key === "Escape") {\n      setIsEditing(false);\n      setEditValue(contact); // revert on escape\n      setError(null);\n    }\n  }, [contactType, countryCode, editValue, contact, finalizeEdit]);\n\n  const handleCountryCodeChange = useCallback((e: React.ChangeEvent<HTMLSelectElement>) => {\n    const newCode = e.target.value;\n    setCountryCode(newCode);\n  }, []);\n\n  // Generate unique IDs for ARIA attributes (must be before hooks that use them)\n  const titleId = useMemo(() => `otp-title-${Math.random().toString(36).substr(2, 9)}`, []);\n  const contactId = useMemo(() => `otp-contact-${Math.random().toString(36).substr(2, 9)}`, []);\n  const otpInputsId = useMemo(() => `otp-inputs-${Math.random().toString(36).substr(2, 9)}`, []);\n  const errorId = useMemo(() => `otp-error-${Math.random().toString(36).substr(2, 9)}`, []);\n  const successId = useMemo(() => `otp-success-${Math.random().toString(36).substr(2, 9)}`, []);\n  const resendSuccessId = useMemo(() => `otp-resend-success-${Math.random().toString(36).substr(2, 9)}`, []);\n\n  // Handle pencil icon keyboard events\n  const handlePencilKeyDown = useCallback((e: React.KeyboardEvent) => {\n    if (e.key === "Enter" || e.key === " ") {\n      e.preventDefault();\n      handleEditClick();\n    }\n  }, [handleEditClick]);\n\n  // Handle select dropdown events\n  const handleSelectMouseDown = useCallback((e: React.MouseEvent<HTMLSelectElement>) => {\n    e.stopPropagation();\n  }, []);\n\n  const handleSelectClick = useCallback((e: React.MouseEvent<HTMLSelectElement>) => {\n    e.stopPropagation();\n  }, []);\n\n  // Memoize country codes options\n  const countryCodeOptions = useMemo(() => countryCodes.map((cc: { code: string; country: string; flag: string }) => (\n    <option key={cc.code} value={cc.code}>\n      {cc.flag} {cc.code}\n    </option>\n  )), []);\n\n  // Memoize OTP inputs\n  const otpInputs = useMemo(() => Array.from({ length }).map((_, i) => (\n    <input\n      key={i}\n      type="text"\n      inputMode="numeric"\n      pattern="[0-9]"\n      maxLength={1}\n      ref={(el) => {(inputsRef.current[i] = el)}}\n      onChange={(e) => handleChange(e, i)}\n      onKeyDown={(e) => handleKeyDown(e, i)}\n      onPaste={(e) => handlePaste(e, i)}\n      aria-label={`Digit ${i + 1} of ${length}`}\n      aria-describedby={otpInputsId}\n      aria-invalid={codeError ? "true" : "false"}\n      className="w-10 sm:w-12 h-14 text-center text-xl font-semibold border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all cursor-pointer"\n    />\n  )), [length, handleChange, handleKeyDown, handlePaste, otpInputsId, codeError]);\n\n  return (\n    <div className="w-full flex justify-center items-center py-10 px-4">\n      <div\n        role="main"\n        aria-labelledby={titleId}\n        className={cn(\n          "shadow-lg rounded-2xl p-4 sm:p-6 md:p-8 w-full space-y-6 max-w-lg mx-auto",\n          OtpVerificationVariants({ variant })\n        )}\n      >\n        {/* Shield Icon - Top Center */}\n        <div className="flex justify-center mb-4" role="img" aria-label="Security verification icon">\n          <motion.div\n            initial={{ scale: 0, rotate: -180 }}\n            animate={{ scale: 1, rotate: 0 }}\n            transition={{ \n              type: "spring", \n              stiffness: 200, \n              damping: 15,\n              delay: 0.2\n            }}\n            className="flex items-center justify-center"\n          >\n            <motion.div\n              className={cn(\n                "p-4 rounded-2xl relative",\n                variant === "default" \n                  ? "bg-primary/10" \n                  : variant === "dark"\n                  ? "bg-primary/20"\n                  : "bg-primary/10",\n                "shadow-lg shadow-primary/20"\n              )}\n              whileHover={{ scale: 1.05, rotate: 5 }}\n              transition={{ type: "spring", stiffness: 300 }}\n            >\n              <Shield \n                className={cn(\n                  "h-10 w-10",\n                  variant === "default" ? "text-primary" : "text-primary-300"\n                )}\n                aria-hidden="true"\n              />\n              <motion.div\n                className={cn(\n                  "absolute inset-0 rounded-2xl",\n                  variant === "default"\n                    ? "bg-primary/5"\n                    : "bg-white"\n                )}\n                animate={{\n                  scale: [1, 1.2, 1],\n                  opacity: [0.5, 0, 0.5]\n                }}\n                transition={{\n                  duration: 2,\n                  repeat: Infinity\n                }}\n              />\n            </motion.div>\n          </motion.div>\n        </div>\n        \n        {/* Title */}\n        <div className="text-center space-y-1">\n          <h2 id={titleId} className="text-2xl font-semibold">{title}</h2>\n           <div\n            id={contactId}\n            className={cn(\n              "flex flex-col items-center text-lg",\n              variant === "default" ? "text-gray-800" : "text-gray-300"\n            )}\n            aria-live="polite"\n          >\n            We sent a code to your {contactType}\n\n          {!isEditing ? (\n            <span className="flex items-center gap-2" aria-label={`${contactType === "phone" ? "Phone number" : "Email address"}: ${contactType === "phone" ? `${countryCode} ${contact.replace(/^\\+\\d+\\s*/, "").trim()}` : contact}`}>\n              {contactType === "phone" && countryCode && (\n                <span className="text-md font-medium" aria-label="Country code">{countryCode}</span>\n              )}\n              <span aria-label={contactType === "phone" ? "Phone number" : "Email address"}>\n                {contactType === "phone" \n                  ? contact.replace(/^\\+\\d+\\s*/, "").trim() \n                  : contact}\n              </span>\n              <Pencil\n                size={16}\n                className="ml-1 cursor-pointer text-gray-400 hover:text-gray-200 transition"\n                onClick={handleEditClick}\n                role="button"\n                tabIndex={0}\n                aria-label={`Edit ${contactType === "phone" ? "phone number" : "email address"}`}\n                onKeyDown={handlePencilKeyDown}\n              />\n            </span>\n          ) : (\n            <div className="flex items-center gap-2 mt-2">\n              {contactType === "phone" && (\n                <select\n                  value={countryCode}\n                  onChange={handleCountryCodeChange}\n                  onMouseDown={handleSelectMouseDown}\n                  onClick={handleSelectClick}\n                  aria-label="Country code"\n                  className={cn(\n                    "h-[38px] px-2 py-1 border rounded-lg text-sm cursor-pointer",\n                    "focus:outline-none focus:ring-2 focus:ring-primary",\n                    error ? "border-red-500" : "border-gray-300",\n                    variant === "default" \n                      ? "bg-white text-black" \n                      : "bg-neutral-800 text-white border-neutral-600"\n                  )}\n                >\n                  {countryCodeOptions}\n                </select>\n              )}\n              <input\n                type={contactType === "email" ? "email" : "tel"}\n                value={editValue}\n                onChange={handleInputChange}\n                onBlur={handleInputBlur}\n                onKeyDown={handleInputKeyDown}\n                autoFocus\n                placeholder={contactType === "phone" ? "Phone number" : "Email address"}\n                aria-label={contactType === "phone" ? "Phone number" : "Email address"}\n                aria-invalid={error ? "true" : "false"}\n                aria-describedby={error ? errorId : undefined}\n                className={cn(\n                  "flex-1 h-[38px] text-center px-2 py-1 border rounded-lg",\n                  error ? "border-red-500" : "border-gray-300",\n                  variant === "default" \n                    ? "bg-white text-black" \n                    : "bg-neutral-800 text-white border-neutral-600"\n                )}\n              />\n            </div>\n          )}\n          {error && (\n            <span \n              id={errorId}\n              className="text-red-500 text-sm mt-1"\n              role="alert"\n              aria-live="polite"\n            >\n              {error}\n            </span>\n          )}\n          </div>\n        </div>\n\n        <p \n          id={otpInputsId}\n          className={cn("text-lg py-4 text-center", variant === "default" ? "text-gray-800" : "text-gray-300")}\n        >\n          Enter {length} digit code\n        </p>\n\n        {/* OTP Inputs */}\n        <motion.div\n          key={animation}\n          initial={currentAnimationVariant.initial}\n          animate={currentAnimationVariant.animate}\n          transition={{ duration: 0.5, ease: "easeOut" }}\n          role="group"\n          aria-labelledby={otpInputsId}\n          className={cn(\n            "flex justify-center gap-2 sm:gap-3",\n            length > 5 && "flex-wrap"\n          )}>\n          {otpInputs}\n        </motion.div>\n\n        <AnimatePresence mode="wait">\n          {codeError && (\n            <motion.div\n              key="error"\n              id={errorId}\n              role="alert"\n              aria-live="assertive"\n              initial={{ opacity: 0, y: -10, scale: 0.95 }}\n              animate={{ opacity: 1, y: 0, scale: 1 }}\n              exit={{ opacity: 0, y: -10, scale: 0.95 }}\n              transition={{ type: "spring", stiffness: 300 }}\n              className={cn(\n                "flex items-center gap-2 text-sm p-3 rounded-lg border",\n                variant === "dark"\n                  ? "bg-red-500/10 border-red-500/30 text-red-400"\n                  : "bg-red-50 border-red-200 text-red-600"\n              )}\n            >\n              <AlertCircle className="h-4 w-4 flex-shrink-0" aria-hidden="true" />\n              <span className="font-medium">{codeError}</span>\n            </motion.div>\n          )}\n          {resendSuccess && (\n            <motion.div\n              key="resend-success"\n              id={resendSuccessId}\n              role="status"\n              aria-live="polite"\n              initial={{ opacity: 0, y: -10, scale: 0.95 }}\n              animate={{ opacity: 1, y: 0, scale: 1 }}\n              exit={{ opacity: 0, y: -10, scale: 0.95 }}\n              transition={{ type: "spring", stiffness: 300 }}\n              className={cn(\n                "flex items-center gap-2 text-sm p-3 rounded-lg border",\n                variant === "dark"\n                  ? "bg-emerald-500/10 border-emerald-500/30 text-emerald-400"\n                  : "bg-emerald-50 border-emerald-200 text-emerald-600"\n              )}\n            >\n              <CheckCircle2 className="h-4 w-4 flex-shrink-0" aria-hidden="true" />\n              <span className="font-medium">{resendSuccess}</span>\n            </motion.div>\n          )}\n          {codeSuccess && (\n            <motion.div\n              key="success"\n              id={successId}\n              role="status"\n              aria-live="polite"\n              initial={{ opacity: 0, y: -10, scale: 0.95 }}\n              animate={{ opacity: 1, y: 0, scale: 1 }}\n              exit={{ opacity: 0, y: -10, scale: 0.95 }}\n              transition={{ type: "spring", stiffness: 300 }}\n              className={cn(\n                "flex items-center gap-2 text-sm p-3 rounded-lg border",\n                variant === "dark"\n                  ? "bg-emerald-500/10 border-emerald-500/30 text-emerald-400"\n                  : "bg-emerald-50 border-emerald-200 text-emerald-600"\n              )}\n            >\n              <CheckCircle2 className="h-4 w-4 flex-shrink-0" aria-hidden="true" />\n              <span className="font-medium">{codeSuccess}</span>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* Submit */}\n        <div className="flex justify-center mt-5">\n          <Button\n            onClick={handleVerify}\n            disabled={!isCodeComplete}\n            aria-label={submitButtonLabel}\n            aria-describedby={codeError ? errorId : codeSuccess ? successId : undefined}\n            className={cn(\n              "w-full h-12 rounded-xl text-base",\n              !isCodeComplete && "opacity-50 cursor-not-allowed",\n              isCodeComplete && "cursor-pointer",\n              OtpVerificationCardVariants({ variant }),\n              isCodeComplete && `hover:${OtpVerificationCardVariants({ variant })}`\n            )}\n          >\n            {submitButtonLabel}\n          </Button>\n        </div>\n\n        {/* Resend */}\n        <div className="text-center text-md hover:cursor-pointer">\n          {cooldown > 0 ? (\n            <span \n              className={cn("hover:underline", OtpVerificationVariants({ variant }))}\n              role="status"\n              aria-live="polite"\n              aria-label={`Resend code available in ${cooldown} seconds`}\n            >\n              Didn\'t receive code? [ Resend in {cooldown}s ]\n            </span>\n          ) : (\n            <button\n              onClick={handleResend}\n              disabled={!!error}\n              aria-label={error ? "Resend code unavailable due to validation error" : "Resend verification code"}\n              className={cn(\n                "hover:underline",\n                error \n                  ? "cursor-not-allowed opacity-50" \n                  : "cursor-pointer",\n                OtpVerificationVariants({ variant })\n              )}\n            >\n              Resend Code\n            </button>\n          )}\n        </div>\n        \n        {/* Back Button */}\n        <div className="flex justify-start">\n          <LinkButton label={navigateToLabel} onBack={handleNavigateTo}  textColor={\n            variant === "default" ? "text-black" : "text-white"\n          }/>\n        </div>\n        \n      </div>\n    </div>\n  );\n};\n\nexport const OTPVerificationPage: React.FC<OTPVerificationProps> = memo((props) => {\n  return <OTPVerificationPageContent {...props} />;\n});\n\nOTPVerificationPage.displayName = "OTPVerificationPage";\n\n'})})})]}),"\n",(0,r.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(n.h3,{id:"basic-example",children:"Basic Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:'import { OTPVerificationPage } from "@src/components/templates/otpverification";\n\nfunction App() {\n  return (\n    <OTPVerificationPage\n      variant="dark"\n      length={6}\n      title="Enter Verification Code"\n      contactType="email"\n      contactDetail="user@example.com"\n      onNavigateTo={() => router.push("/login")}\n      onVerifyOtp={(code) => verifyOtp(code)}\n      onResendOtp={(contact, type) => resendOtp(contact, type)}\n    />\n  );\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"complete-example-with-api-integration",children:"Complete Example with API Integration"}),"\n",(0,r.jsx)(n.p,{children:"Here's a complete example showing how to integrate the component with your backend API:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:'import { OTPVerificationPage } from "@src/components/templates/otpverification";\nimport { useRouter } from "next/navigation"; // or your routing library\n\ntype OtpResult = {\n  success: boolean;\n  message?: string;\n};\n\n// 1. Define your OTP verification function\n// Replace "/api/auth/verify-otp" with your actual API endpoint\nasync function verifyOtp(code: string): Promise<OtpResult> {\n  try {\n    const res = await fetch("/api/auth/verify-otp", {\n      method: "POST",\n      headers: { "Content-Type": "application/json" },\n      body: JSON.stringify({ code }),\n    });\n\n    if (!res.ok) {\n      const error = await res.json().catch(() => null);\n      return {\n        success: false,\n        message: error?.message || "Verification failed",\n      };\n    }\n\n    const data = await res.json();\n    return { \n      success: true, \n      message: data.message || "OTP verified successfully" \n    };\n  } catch (error) {\n    return { \n      success: false, \n      message: "Network error. Please try again." \n    };\n  }\n}\n\n// 2. Define your resend OTP function\n// Replace "/api/auth/resend-otp" with your actual API endpoint\nasync function resendOtp(\n  contact: string,\n  type: "email" | "phone"\n): Promise<OtpResult> {\n  try {\n    const res = await fetch("/api/auth/resend-otp", {\n      method: "POST",\n      headers: { "Content-Type": "application/json" },\n      body: JSON.stringify({ contact, type }),\n    });\n\n    if (!res.ok) {\n      const error = await res.json().catch(() => null);\n      return { \n        success: false, \n        message: error?.message || "Failed to resend OTP" \n      };\n    }\n\n    const data = await res.json();\n    return { \n      success: true, \n      message: data.message || "OTP sent successfully" \n    };\n  } catch (error) {\n    return { \n      success: false, \n      message: "Network error. Please try again." \n    };\n  }\n}\n\n// 3. Use the component in your page/component\nfunction VerificationPage() {\n  const router = useRouter();\n\n  return (\n    <OTPVerificationPage\n      // Visual customization\n      variant="dark" // "default" | "dark"\n      animation="fadeUp" // "fadeUp" | "scaleIn" | "slideLeft" | "slideRight" | "flipIn"\n      title="Enter Verification Code"\n      \n      // OTP configuration\n      length={6} // Number of OTP digits (e.g., 4, 5, 6, 8, etc.)\n      resendCooldown={30} // Cooldown duration in seconds\n      \n      // Contact information\n      contactType="email" // "email" | "phone"\n      contactDetail="user@example.com" // User\'s email or phone number\n      \n      // Button labels\n      navigateToLabel="Back To Login"\n      submitButtonLabel="Verify Code"\n      \n      // Navigation callback - Update this to your routing logic\n      onNavigateTo={() => router.push("/login")}\n      \n      // OTP verification callback - Update "/api/auth/verify-otp" to your API endpoint\n      onVerifyOtp={(code) => verifyOtp(code)}\n      \n      // Resend OTP callback - Update "/api/auth/resend-otp" to your API endpoint\n      onResendOtp={(contact, type) => resendOtp(contact, type)}\n    />\n  );\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"props",children:"Props"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Prop"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"input"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"React.ReactNode"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"-"})}),(0,r.jsx)(n.td,{children:"Optional custom input component"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"title"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"Enter Verification Code"'})}),(0,r.jsx)(n.td,{children:"Custom title"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"statement"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"-"})}),(0,r.jsx)(n.td,{children:"Optional statement text"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"navigateToLabel"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"Back To Login"'})}),(0,r.jsx)(n.td,{children:"Custom Label for Back Button"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"submitButtonLabel"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"Verify Code"'})}),(0,r.jsx)(n.td,{children:"Custom Label for Submit Button"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"variant"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"default" | "dark"'})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"dark"'})}),(0,r.jsx)(n.td,{children:"Visual theme variant"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"animation"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"fadeUp"| "scaleIn"| "slideLeft"| "slideRight"| "flipIn"'})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"fadeUp"'})}),(0,r.jsx)(n.td,{children:"Animation for OTP Verification Input box"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"length"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"number"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"6"})}),(0,r.jsx)(n.td,{children:"Number of digits for OTP Verification"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"contactType"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"email"| "phone"'})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"email"'})}),(0,r.jsx)(n.td,{children:"Type of contact method for OTP Verification"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"contactDetail"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"user@example.com"'})}),(0,r.jsx)(n.td,{children:"Email address or phone number to display"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"resendCooldown"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"number"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"30"})}),(0,r.jsx)(n.td,{children:"Cooldown duration in seconds for resend functionality"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"onNavigateTo"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"() => void"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"-"})}),(0,r.jsx)(n.td,{children:"Callback function for Back Button"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"onResendOtp"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'(contact: string, contactType: "email" | "phone") => Promise<{ success: boolean; message?: string }>'})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"-"})}),(0,r.jsx)(n.td,{children:"Callback function for Resend Code Button"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"onVerifyOtp"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"(code: string) => Promise<{ success: boolean; message?: string }>"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"-"})}),(0,r.jsx)(n.td,{children:"Callback function for Verify Code Button"})]})]})]})]})}function B(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(D,{...e})}):D(e)}},84722(e,n,t){t.d(n,{A:()=>c});var a=t(96540);const r=e=>{const n=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,t)=>t?t.toUpperCase():n.toLowerCase()))(e);return n.charAt(0).toUpperCase()+n.slice(1)},i=(...e)=>e.filter((e,n,t)=>Boolean(e)&&""!==e.trim()&&t.indexOf(e)===n).join(" ").trim(),s=e=>{for(const n in e)if(n.startsWith("aria-")||"role"===n||"title"===n)return!0};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const l=(0,a.forwardRef)(({color:e="currentColor",size:n=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...u},m)=>(0,a.createElement)("svg",{ref:m,...o,width:n,height:n,stroke:e,strokeWidth:r?24*Number(t)/Number(n):t,className:i("lucide",l),...!c&&!s(u)&&{"aria-hidden":"true"},...u},[...d.map(([e,n])=>(0,a.createElement)(e,n)),...Array.isArray(c)?c:[c]])),c=(e,n)=>{const t=(0,a.forwardRef)(({className:t,...s},o)=>{return(0,a.createElement)(l,{ref:o,iconNode:n,className:i(`lucide-${c=r(e),c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,t),...s});var c});return t.displayName=r(e),t}},37946(e,n,t){t.d(n,{A:()=>a});const a=(0,t(84722).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},79804(e,n,t){t.d(n,{A:()=>a});const a=(0,t(84722).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},22492(e,n,t){t.d(n,{A:()=>a});const a=(0,t(84722).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},86297(e,n,t){t.d(n,{N:()=>x});var a=t(74848),r=t(96540),i=t(29473),s=t(28601),o=t(86719),l=t(35446);class c extends r.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=n.offsetHeight||0,e.width=n.offsetWidth||0,e.top=n.offsetTop,e.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d({children:e,isPresent:n}){const t=(0,r.useId)(),i=(0,r.useRef)(null),s=(0,r.useRef)({width:0,height:0,top:0,left:0}),{nonce:o}=(0,r.useContext)(l.Q);return(0,r.useInsertionEffect)(()=>{const{width:e,height:a,top:r,left:l}=s.current;if(n||!i.current||!e||!a)return;i.current.dataset.motionPopId=t;const c=document.createElement("style");return o&&(c.nonce=o),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`\n          [data-motion-pop-id="${t}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${a}px !important;\n            top: ${r}px !important;\n            left: ${l}px !important;\n          }\n        `),()=>{document.head.removeChild(c)}},[n]),(0,a.jsx)(c,{isPresent:n,childRef:i,sizeRef:s,children:r.cloneElement(e,{ref:i})})}const u=({children:e,initial:n,isPresent:t,onExitComplete:i,custom:l,presenceAffectsLayout:c,mode:u})=>{const p=(0,s.M)(m),h=(0,r.useId)(),f=(0,r.useCallback)(e=>{p.set(e,!0);for(const n of p.values())if(!n)return;i&&i()},[p,i]),g=(0,r.useMemo)(()=>({id:h,initial:n,isPresent:t,custom:l,onExitComplete:f,register:e=>(p.set(e,!1),()=>p.delete(e))}),c?[Math.random(),f]:[t,f]);return(0,r.useMemo)(()=>{p.forEach((e,n)=>p.set(n,!1))},[t]),r.useEffect(()=>{!t&&!p.size&&i&&i()},[t]),"popLayout"===u&&(e=(0,a.jsx)(d,{isPresent:t,children:e})),(0,a.jsx)(o.t.Provider,{value:g,children:e})};function m(){return new Map}var p=t(89120);const h=e=>e.key||"";function f(e){const n=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&n.push(e)}),n}var g=t(25128);const x=({children:e,custom:n,initial:t=!0,onExitComplete:o,presenceAffectsLayout:l=!0,mode:c="sync",propagate:d=!1})=>{const[m,x]=(0,p.xQ)(d),y=(0,r.useMemo)(()=>f(e),[e]),v=d&&!m?[]:y.map(h),b=(0,r.useRef)(!0),C=(0,r.useRef)(y),j=(0,s.M)(()=>new Map),[k,w]=(0,r.useState)(y),[T,P]=(0,r.useState)(y);(0,g.E)(()=>{b.current=!1,C.current=y;for(let e=0;e<T.length;e++){const n=h(T[e]);v.includes(n)?j.delete(n):!0!==j.get(n)&&j.set(n,!1)}},[T,v.length,v.join("-")]);const E=[];if(y!==k){let e=[...y];for(let n=0;n<T.length;n++){const t=T[n],a=h(t);v.includes(a)||(e.splice(n,0,t),E.push(t))}return"wait"===c&&E.length&&(e=E),P(f(e)),void w(y)}const{forceRender:N}=(0,r.useContext)(i.L);return(0,a.jsx)(a.Fragment,{children:T.map(e=>{const r=h(e),i=!(d&&!m)&&(y===T||v.includes(r));return(0,a.jsx)(u,{isPresent:i,initial:!(b.current&&!t)&&void 0,custom:i?void 0:n,presenceAffectsLayout:l,mode:c,onExitComplete:i?void 0:()=>{if(!j.has(r))return;j.set(r,!0);let e=!0;j.forEach(n=>{n||(e=!1)}),e&&(null==N||N(),P(C.current),d&&(null==x||x()),o&&o())},children:e},r)})})}}}]);