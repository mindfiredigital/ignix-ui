"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1286],{5830:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>m,contentTitle:()=>p,default:()=>v,frontMatter:()=>h,metadata:()=>t,toc:()=>x});const t=JSON.parse('{"id":"layouts/lazyload","title":"LazyLoad","description":"A performance optimization component for deferring the loading of off-screen content until it enters the viewport.","source":"@site/versioned_docs/version-1.0.2/layouts/lazyload.mdx","sourceDirName":"layouts","slug":"/layouts/lazyload","permalink":"/ignix-ui/docs/layouts/lazyload","draft":false,"unlisted":false,"tags":[],"version":"1.0.2","sidebarPosition":8,"frontMatter":{"sidebar_position":8,"title":"LazyLoad","description":"A performance optimization component for deferring the loading of off-screen content until it enters the viewport."},"sidebar":"tutorialSidebar","previous":{"title":"Form","permalink":"/ignix-ui/docs/layouts/form"},"next":{"title":"Masonry","permalink":"/ignix-ui/docs/layouts/masonry"}}');var s=a(4848),i=a(8453),r=a(5537),o=a(9329),l=a(6540);const c=({children:e,className:n,threshold:a="100px",placeholder:t=null,once:i=!0,animation:r="fade"})=>{const[o,c]=(0,l.useState)(!1),d=(0,l.useRef)(null);(0,l.useEffect)((()=>{const e=new IntersectionObserver((([n])=>{n.isIntersecting&&(c(!0),i&&e.disconnect())}),{rootMargin:a});return d.current&&e.observe(d.current),()=>{d.current&&e.unobserve(d.current)}}),[a,i]);return(0,s.jsx)("div",{ref:d,className:n,style:(()=>{switch(r){case"fade":return{opacity:o?1:0,transition:"opacity 0.5s ease"};case"slide":return{transform:o?"translateY(0)":"translateY(20px)",opacity:o?1:0,transition:"transform 0.5s ease, opacity 0.5s ease"};default:return{}}})(),children:o?e:t})};var d=a(8069);const u=()=>{const[e,n]=(0,l.useState)("100px"),[a,t]=(0,l.useState)("fade"),[i,u]=(0,l.useState)(!0),h=`\n<LazyLoad \n  threshold="${e}" \n  animation="${a}" \n  once={${i}}\n  placeholder={<div style={{ height: "200px", background: "#eee" }}>Loading...</div>}\n>\n  <div style={{\n    height: "200px", \n    background: "#ccc", \n    display: "flex", \n    justifyContent: "center", \n    alignItems: "center"\n  }}>\n    Loaded Content\n  </div>\n</LazyLoad>\n`;return(0,s.jsxs)("div",{className:"space-y-6 mb-8",children:[(0,s.jsxs)("div",{className:"flex flex-wrap gap-4 justify-start sm:justify-end",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium",children:"Threshold"}),(0,s.jsx)("input",{type:"text",value:e,onChange:e=>n(e.target.value),className:"border rounded px-2 py-1 text-sm"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium",children:"Animation"}),(0,s.jsxs)("select",{value:a,onChange:e=>t(e.target.value),className:"border rounded px-2 py-1 text-sm",children:[(0,s.jsx)("option",{value:"fade",children:"Fade"}),(0,s.jsx)("option",{value:"slide",children:"Slide"}),(0,s.jsx)("option",{value:"none",children:"None"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium",children:"Load Once"}),(0,s.jsx)("input",{type:"checkbox",checked:i,onChange:e=>u(e.target.checked),className:"border rounded px-2 py-1 text-sm"})]})]}),(0,s.jsxs)(r.A,{children:[(0,s.jsx)(o.A,{value:"preview",label:"Preview",children:(0,s.jsx)("div",{className:"border p-6 rounded-lg",children:(0,s.jsx)(c,{threshold:e,animation:a,once:i,placeholder:(0,s.jsx)("div",{style:{height:"200px",background:"#eee"},children:"Loading..."}),children:(0,s.jsx)("div",{style:{height:"200px",background:"#ccc",display:"flex",justifyContent:"center",alignItems:"center"},children:"Loaded Content"})})})}),(0,s.jsx)(o.A,{value:"code",label:"Code",children:(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(d.A,{language:"tsx",className:"text-sm",children:h.trim()})})})]})]})},h={sidebar_position:8,title:"LazyLoad",description:"A performance optimization component for deferring the loading of off-screen content until it enters the viewport."},p=void 0,m={},x=[{value:"Overview",id:"overview",level:2},{value:"Preview",id:"preview",level:2},{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2}];function f(e){const n={br:"br",code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"LazyLoad"})," component defers the loading of off-screen content (like images, videos, or heavy components) until it is about to enter the viewport.",(0,s.jsx)(n.br,{}),"\n","This improves initial page load times and enhances performance."]}),"\n",(0,s.jsx)(n.h2,{id:"preview",children:"Preview"}),"\n",(0,s.jsx)(u,{}),"\n",(0,s.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsx)(o.A,{value:"npm",label:"npm",default:!0,children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npx @mindfiredigital/ignix-ui add lazyload\n"})})}),(0,s.jsx)(o.A,{value:"yarn",label:"Yarn",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"yarn @mindfiredigital/ignix-ui add lazyload\n"})})}),(0,s.jsx)(o.A,{value:"pnpm",label:"pnpm",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pnpm @mindfiredigital/ignix-ui add lazyload\n"})})}),(0,s.jsx)(o.A,{value:"manual",label:"manual",className:"max-h-[500px] overflow-y-auto",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'  import React, { useEffect, useState, useRef } from "react";\n\nexport interface LazyLoadProps {\nchildren: React.ReactNode;\nclassName?: string;\nthreshold?: string; // Distance from viewport to trigger loading\nplaceholder?: React.ReactNode; // Placeholder content\nonce?: boolean; // Load only once\nanimation?: "fade" | "slide" | "none"; // Animation type\n}\n\nexport const LazyLoad: React.FC<LazyLoadProps> = ({\nchildren,\nclassName,\nthreshold = "100px",\nplaceholder = null,\nonce = true,\nanimation = "fade",\n}) => {\nconst [isVisible, setIsVisible] = useState(false);\nconst containerRef = useRef<HTMLDivElement>(null);\n\nuseEffect(() => {\nconst observer = new IntersectionObserver(\n  ([entry]) => {\n    if (entry.isIntersecting) {\n      setIsVisible(true);\n      if (once) observer.disconnect(); // Stop observing if `once` is true\n    }\n  },\n  { rootMargin: threshold }\n);\n\nif (containerRef.current) {\n  observer.observe(containerRef.current);\n}\n\nreturn () => {\n  if (containerRef.current) observer.unobserve(containerRef.current);\n};\n}, [threshold, once]);\n\nconst getAnimationStyle = () => {\nswitch (animation) {\n  case "fade":\n    return { opacity: isVisible ? 1 : 0, transition: "opacity 0.5s ease" };\n  case "slide":\n    return {\n      transform: isVisible ? "translateY(0)" : "translateY(20px)",\n      opacity: isVisible ? 1 : 0,\n      transition: "transform 0.5s ease, opacity 0.5s ease",\n    };\n  default:\n    return {};\n}\n};\n\nreturn (\n<div ref={containerRef} className={className} style={getAnimationStyle()}>\n  {isVisible ? children : placeholder}\n</div>\n);\n};\n\n\n'})})})]}),"\n",(0,s.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,s.jsx)(n.p,{children:"Import the component:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { LazyLoad } from './components/ui';\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'<LazyLoad \n  threshold="100px" \n  animation="fade" \n  once={true}\n  placeholder={<Skeleton />}\n>\n  <HeavyContent />\n</LazyLoad>\n'})})]})}function v(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(f,{...e})}):f(e)}}}]);